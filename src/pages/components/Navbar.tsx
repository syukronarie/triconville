import { useContext, useEffect, useState } from "react";

import { CartContext } from "../../context/CartContext";
import { MyCartPage } from "./my_cart/MyCartPage";
import styles from "./Navbar.module.css";

const Navbar: React.FC = () => {
	const [isActive, setIsActive] = useState(false);
	let [quantity, setQuantity] = useState(0);
	const [state] = useContext(CartContext);

	useEffect(() => {
		let prd = localStorage.getItem("user:product:cart");
		console.log(prd);
		if (prd) {
			let result = JSON.parse(prd);
			setQuantity(result.products.quantity);
		}
	}, [state.products]);

	const showAction = (page: string) => {
		window.alert(`Page ${page} was licked`);
	};

	return (
		<nav className={styles.container}>
			<div
				className={`${styles.containerModal} ${
					isActive ? `${styles.active}` : ""
				}`}
				onClick={() => setIsActive(false)}></div>
			<MyCartPage isActive={isActive} />
			{/* </>
			)} */}
			<div className={styles.logo}>
				<img src="./dezigndistrict.gif" alt="logo" />
			</div>
			<ul className={styles.menus}>
				<li>LIVING</li>
				<li>DINING</li>
				<li>BEDDING</li>
				<li>HOME OFFICE</li>
				<li>OUTDOOR</li>
				<li>HOME DECOR</li>
				<li>SALE</li>
				<li>OUR STORY</li>
			</ul>
			<div className={styles.actions}>
				{/* Icon Login SVG */}
				<div className={styles.icons} onClick={() => showAction("Login")}>
					<svg
						id="Group_3"
						data-name="Group 3"
						xmlns="http://www.w3.org/2000/svg"
						width="46.817"
						height="46.734"
						viewBox="0 0 46.817 46.734">
						<path
							id="Path_5"
							data-name="Path 5"
							d="M273.409,0A23.089,23.089,0,0,1,289.9,6.831a23.23,23.23,0,0,1,0,33.072,23.43,23.43,0,0,1-33.072,0,23.43,23.43,0,0,1,0-33.072A23.284,23.284,0,0,1,273.409,0ZM289.07,7.747a22.123,22.123,0,0,0-31.323,0,22.159,22.159,0,1,0,31.323,0Z"
							transform="translate(-250)"></path>
						<path
							id="Path_6"
							data-name="Path 6"
							d="M417.248,156.746l-.666.417a13.307,13.307,0,0,0-4.748,5.331A7.647,7.647,0,0,0,411,165.16a3.434,3.434,0,0,0,.666,2.249,3.209,3.209,0,0,0,2.5,1h13.579a3.272,3.272,0,0,0,2.582-1,2.985,2.985,0,0,0,.583-2.249,7.511,7.511,0,0,0-.75-2.666,13.127,13.127,0,0,0-2.582-3.5.557.557,0,0,0-.833,0,.654.654,0,0,0,0,.916l.5.417a13.827,13.827,0,0,1,1.833,2.666,7.7,7.7,0,0,1,.666,2.249,2.181,2.181,0,0,1-.417,1.416,1.811,1.811,0,0,1-1.583.583H414.166a1.9,1.9,0,0,1-1.583-.583,2.119,2.119,0,0,1-.333-1.416,7.7,7.7,0,0,1,.666-2.249,12.528,12.528,0,0,1,5.5-5.5l.25-.083.25.083a6.938,6.938,0,0,0,1.833.25A5.733,5.733,0,0,0,424.912,156a5.936,5.936,0,0,0,0-8.247A5.733,5.733,0,0,0,420.747,146a5.6,5.6,0,0,0-4.165,1.749,5.734,5.734,0,0,0,0,8.247ZM424,148.582a4.531,4.531,0,0,1,0,6.581,4.6,4.6,0,0,1-3.249,1.333,4.624,4.624,0,1,1,0-9.247A4.6,4.6,0,0,1,424,148.582Z"
							transform="translate(-397.588 -133.838)"
							fillRule="evenodd"></path>
					</svg>
					<p>Login</p>
				</div>

				{/* Icon WishList SVG */}
				<div className={styles.icons} onClick={() => showAction("Wishlist")}>
					<svg
						id="Group_2"
						data-name="Group 2"
						xmlns="http://www.w3.org/2000/svg"
						width="46.817"
						height="46.734"
						viewBox="0 0 46.817 46.734">
						<path
							id="Path_3"
							data-name="Path 3"
							d="M971.409,0A23.089,23.089,0,0,1,987.9,6.831a23.23,23.23,0,0,1,0,33.072,23.43,23.43,0,0,1-33.072,0,23.43,23.43,0,0,1,0-33.072A23.285,23.285,0,0,1,971.409,0ZM987.07,7.747a22.123,22.123,0,0,0-31.323,0,22.159,22.159,0,1,0,31.323,0Z"
							transform="translate(-948)"></path>
						<path
							id="Path_4"
							data-name="Path 4"
							d="M1101.411,172.333a.458.458,0,0,0-.25.417.626.626,0,0,0,.417.583h.333a1.418,1.418,0,0,0,.583-.083h.75a5.463,5.463,0,0,1,2.916.916,6.061,6.061,0,0,1,2.249,3.582,12.467,12.467,0,0,1,.167,1.833,9.133,9.133,0,0,1-1.666,5.248,21.33,21.33,0,0,1-7.664,6.748c-1.416.75-1.25.75-2.666,0a21.073,21.073,0,0,1-7.581-6.748,8.47,8.47,0,0,1-1.75-5.248,13.61,13.61,0,0,1,.167-1.833,6.237,6.237,0,0,1,2.333-3.665,5.616,5.616,0,0,1,2.832-.833h.167a7.806,7.806,0,0,1,2.832.583,4.157,4.157,0,0,1,1.416.916l.083.083h0c.916,1,2.083.083.333-1.25a4.667,4.667,0,0,0-1.25-.833,9.731,9.731,0,0,0-3.5-.75,7.222,7.222,0,0,0-3.665,1.083,7.529,7.529,0,0,0-2.749,4.332,10.168,10.168,0,0,0-.25,2.166,9.6,9.6,0,0,0,1.916,5.831A23.3,23.3,0,0,0,1096,192.66c.333.167.667.333,1.083.5h0a1.607,1.607,0,0,0,.833.25,1.407,1.407,0,0,0,.833-.25c.417-.167.75-.333,1.083-.5a24.061,24.061,0,0,0,8.08-7.248,10.294,10.294,0,0,0,1.833-5.831,9.073,9.073,0,0,0-.25-2.166,6.448,6.448,0,0,0-6.415-5.415c-.25,0-.583.083-.833.083A1.407,1.407,0,0,0,1101.411,172.333Z"
							transform="translate(-1074.504 -157.672)"
							fillRule="evenodd"></path>
					</svg>
					<p>Wistlist</p>
				</div>

				{/* Icon Cart SVG */}
				<div className={styles.icons} onClick={() => setIsActive(true)}>
					<svg
						id="Group_1"
						data-name="Group 1"
						xmlns="http://www.w3.org/2000/svg"
						width="46.817"
						height="46.734"
						viewBox="0 0 46.817 46.734">
						<path
							id="Path_1"
							data-name="Path 1"
							d="M1699.408,0A23.09,23.09,0,0,1,1715.9,6.831a23.23,23.23,0,0,1,0,33.072,23.43,23.43,0,0,1-33.072,0,23.43,23.43,0,0,1,0-33.072A23.285,23.285,0,0,1,1699.408,0Zm15.662,7.747a22.123,22.123,0,0,0-31.323,0,22.159,22.159,0,1,0,31.323,0Z"
							transform="translate(-1676)"></path>
						<path
							id="Path_2"
							data-name="Path 2"
							d="M1840.245,150.414v-.583h0v-1.083h-6.664v1.083h0v.583h0A.569.569,0,0,1,1833,151h0a.569.569,0,0,1-.583-.583h0v-1.666h-4.832c-.083,0-.167.083-.25.167-.083,0-.083.167-.083.25.167,4.332,1.083,9.663,1.583,14.079a.458.458,0,0,0,.25.417.636.636,0,0,0,.417.167h14.828a.637.637,0,0,0,.417-.167.458.458,0,0,0,.25-.417c.5-4.415,1.416-9.747,1.583-14.079,0-.083,0-.25-.083-.25-.083-.083-.167-.167-.25-.167h-4.832v1.666h0a.569.569,0,0,1-.583.583h0a.57.57,0,0,1-.583-.583Zm0-2.916v-.916a3.332,3.332,0,0,0-6.664,0v.916Zm-7.83,0v-.916a4.551,4.551,0,0,1,4.5-4.582,4.771,4.771,0,0,1,3.166,1.333,4.6,4.6,0,0,1,1.333,3.249v.916h4.915a1.742,1.742,0,0,1,1.083.583,1.583,1.583,0,0,1,.417,1.083v.25l-1.583,13.912a2.3,2.3,0,0,1-.667,1.25,1.837,1.837,0,0,1-1.25.5H1829.5a1.7,1.7,0,0,1-1.25-.5,2.292,2.292,0,0,1-.667-1.25L1826,149.414v-.25a1.583,1.583,0,0,1,.417-1.083,1.74,1.74,0,0,1,1.083-.583h4.915Z"
							transform="translate(-1813.504 -130.171)"></path>
					</svg>
					<span className={styles.quantity}>{quantity}</span>
					<p>My Cart</p>
				</div>
			</div>
		</nav>
	);
};

export default Navbar;
